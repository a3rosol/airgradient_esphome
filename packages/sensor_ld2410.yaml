ld2410:
  uart_id: ld2410_uart

binary_sensor:
  # Direct GPIO presence output from LD2410C
  - platform: gpio
    name: "Occupancy"
    id: occupancy_sensor
    pin:
      number: 35  # input-only pin on ESP32
      mode:
        input: true
        pulldown: true
    device_class: occupancy
    filters:
      - delayed_on: 100ms
      - delayed_off: 100ms

  # LD2410 binary sensors
  - platform: ld2410
    has_target:
      name: "Presence"
    has_moving_target:
      name: "Moving Target"
    has_still_target:
      name: "Still Target"
    out_pin_presence_status:
      name: "OUT Pin Presence"

sensor:
  - platform: ld2410
    light:
      name: "Light"
    moving_distance:
      name: "Moving Distance"
    still_distance:
      name: "Still Distance"
    moving_energy:
      name: "Moving Energy"
    still_energy:
      name: "Still Energy"
    detection_distance:
      name: "Detection Distance"
    # Engineering mode - per gate energy readings
    g0:
      move_energy:
        name: "G0 Move Energy"
      still_energy:
        name: "G0 Still Energy"
    g1:
      move_energy:
        name: "G1 Move Energy"
      still_energy:
        name: "G1 Still Energy"
    g2:
      move_energy:
        name: "G2 Move Energy"
      still_energy:
        name: "G2 Still Energy"
    g3:
      move_energy:
        name: "G3 Move Energy"
      still_energy:
        name: "G3 Still Energy"
    g4:
      move_energy:
        name: "G4 Move Energy"
      still_energy:
        name: "G4 Still Energy"
    g5:
      move_energy:
        name: "G5 Move Energy"
      still_energy:
        name: "G5 Still Energy"
    g6:
      move_energy:
        name: "G6 Move Energy"
      still_energy:
        name: "G6 Still Energy"
    g7:
      move_energy:
        name: "G7 Move Energy"
      still_energy:
        name: "G7 Still Energy"
    g8:
      move_energy:
        name: "G8 Move Energy"
      still_energy:
        name: "G8 Still Energy"

switch:
  - platform: ld2410
    engineering_mode:
      name: "Engineering Mode"
    bluetooth:
      name: "Bluetooth"

button:
  - platform: ld2410
    factory_reset:
      name: "Factory Reset"
    restart:
      name: "Restart LD2410"
    query_params:
      name: "Query Params"

text_sensor:
  - platform: ld2410
    version:
      name: "Firmware Version"
    mac_address:
      name: "MAC Address"

select:
  - platform: ld2410
    distance_resolution:
      name: "Distance Resolution"
    baud_rate:
      name: "Baud Rate"
    light_function:
      name: "Light Function"
    out_pin_level:
      name: "OUT Pin Level"

number:
  - platform: ld2410
    timeout:
      name: "Timeout"
    light_threshold:
      name: "Light Threshold"
    max_move_distance_gate:
      name: "Max Move Distance Gate"
    max_still_distance_gate:
      name: "Max Still Distance Gate"
    g0:
      move_threshold:
        name: "G0 Move Threshold"
      still_threshold:
        name: "G0 Still Threshold"
    g1:
      move_threshold:
        name: "G1 Move Threshold"
      still_threshold:
        name: "G1 Still Threshold"
    g2:
      move_threshold:
        name: "G2 Move Threshold"
      still_threshold:
        name: "G2 Still Threshold"
    g3:
      move_threshold:
        name: "G3 Move Threshold"
      still_threshold:
        name: "G3 Still Threshold"
    g4:
      move_threshold:
        name: "G4 Move Threshold"
      still_threshold:
        name: "G4 Still Threshold"
    g5:
      move_threshold:
        name: "G5 Move Threshold"
      still_threshold:
        name: "G5 Still Threshold"
    g6:
      move_threshold:
        name: "G6 Move Threshold"
      still_threshold:
        name: "G6 Still Threshold"
    g7:
      move_threshold:
        name: "G7 Move Threshold"
      still_threshold:
        name: "G7 Still Threshold"
    g8:
      move_threshold:
        name: "G8 Move Threshold"
      still_threshold:
        name: "G8 Still Threshold"
